<!DOCTYPE html><html lang="en" data-bs-theme="light"><head>
        <meta charset="utf-8">
        <meta http-equiv="X-UA-Compatible" content="IE=edge">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        
        
        
        <link rel="shortcut icon" href="../../../img/favicon.ico">
        <title>–õ–∞–±–æ—Ä–∞—Ç–æ—Ä–Ω–∞—è —Ä–∞–±–æ—Ç–∞ 2 - –ö—É—Ä—Å –ø–æ –≤–µ–±—É</title>
        <link href="../../../css/bootstrap.min.css" rel="stylesheet">
        <link href="../../../css/fontawesome.min.css" rel="stylesheet">
        <link href="../../../css/brands.min.css" rel="stylesheet">
        <link href="../../../css/solid.min.css" rel="stylesheet">
        <link href="../../../css/v4-font-face.min.css" rel="stylesheet">
        <link href="../../../css/base.css" rel="stylesheet">
        <link id="hljs-light" rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.8.0/styles/github.min.css">
        <link id="hljs-dark" rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.8.0/styles/github-dark.min.css" disabled>
        <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.8.0/highlight.min.js"></script>
        <script>hljs.highlightAll();</script> 
    <link href="../../../assets/stylesheets/glightbox.min.css" rel="stylesheet"><script src="../../../assets/javascripts/glightbox.min.js"></script><style id="glightbox-style">
            html.glightbox-open { overflow: initial; height: 100%; }
            .gslide-title { margin-top: 0px; user-select: text; }
            .gslide-desc { color: #666; user-select: text; }
            .gslide-image img { background: white; }
        </style></head>

    <body>
        <div class="navbar fixed-top navbar-expand-lg navbar-dark bg-primary">
            <div class="container">
                <a class="navbar-brand" href="../../..">–ö—É—Ä—Å –ø–æ –≤–µ–±—É</a>
                <!-- Expander button -->
                <button type="button" class="navbar-toggler" data-bs-toggle="collapse" data-bs-target="#navbar-collapse" aria-controls="navbar-collapse" aria-expanded="false" aria-label="Toggle navigation">
                    <span class="navbar-toggler-icon"></span>
                </button>

                <!-- Expanded navigation -->
                <div id="navbar-collapse" class="navbar-collapse collapse">
                        <!-- Main navigation -->
                        <ul class="nav navbar-nav">
                            <li class="nav-item">
                                <a href="../../.." class="nav-link">–û—Å–Ω–æ–≤–Ω–∞—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è</a>
                            </li>
                            <li class="nav-item dropdown">
                                <a href="#" class="nav-link dropdown-toggle active" aria-current="page" role="button" data-bs-toggle="dropdown" aria-expanded="false">–õ–∞–±–æ—Ä–∞—Ç–æ—Ä–Ω—ã–µ —Ä–∞–±–æ—Ç—ã</a>
                                <ul class="dropdown-menu">
                                    
<li>
    <a href="../../lab1/lab1/" class="dropdown-item">–õ–∞–±–æ—Ä–∞—Ç–æ—Ä–Ω–∞—è —Ä–∞–±–æ—Ç–∞ 1</a>
</li>
                                    
<li>
    <a href="./" class="dropdown-item active" aria-current="page">–õ–∞–±–æ—Ä–∞—Ç–æ—Ä–Ω–∞—è —Ä–∞–±–æ—Ç–∞ 2</a>
</li>
                                    
<li>
    <a href="../../lab3/lab3/" class="dropdown-item">–õ–∞–±–æ—Ä–∞—Ç–æ—Ä–Ω–∞—è —Ä–∞–±–æ—Ç–∞ 3</a>
</li>
                                    
<li>
    <a href="../../lab4/lab4/" class="dropdown-item">–õ–∞–±–æ—Ä–∞—Ç–æ—Ä–Ω–∞—è —Ä–∞–±–æ—Ç–∞ 4</a>
</li>
                                </ul>
                            </li>
                            <li class="nav-item">
                                <a href="../../../about/" class="nav-link">–û —á–µ–º –∫—É—Ä—Å</a>
                            </li>
                        </ul>

                    <ul class="nav navbar-nav ms-md-auto">
                            <li class="nav-item">
                                <a rel="prev" href="../../lab1/lab1/" class="nav-link">
                                    <i class="fa fa-arrow-left"></i> Previous
                                </a>
                            </li>
                            <li class="nav-item">
                                <a rel="next" href="../../lab3/lab3/" class="nav-link">
                                    Next <i class="fa fa-arrow-right"></i>
                                </a>
                            </li>
                            <li class="nav-item">
                                <a href="https://github.com/ZZISST/TonikX-ITMO_ICT_WebDevelopment_2025-2026" class="nav-link"><i class="fa-brands fa-github"></i> GitHub</a>
                            </li>
                    </ul>
                </div>
            </div>
        </div>

        <div class="container">
            <div class="row">
                    <div class="col-md-3"><div class="navbar-expand-md bs-sidebar hidden-print affix" role="complementary">
    <div class="navbar-header">
        <button type="button" class="navbar-toggler collapsed" data-bs-toggle="collapse" data-bs-target="#toc-collapse" title="Table of Contents">
            <span class="fa fa-angle-down"></span>
        </button>
    </div>

    
    <div id="toc-collapse" class="navbar-collapse collapse card bg-body-tertiary">
        <ul class="nav flex-column">
            
            <li class="nav-item" data-bs-level="1"><a href="#2-django" class="nav-link">–õ–∞–±–æ—Ä–∞—Ç–æ—Ä–Ω–∞—è —Ä–∞–±–æ—Ç–∞ 2. –†–µ–∞–ª–∏–∑–∞—Ü–∏—è –ø—Ä–æ—Å—Ç–æ–≥–æ —Å–∞–π—Ç–∞ –Ω–∞ Django</a>
              <ul class="nav flex-column">
            <li class="nav-item" data-bs-level="2"><a href="#_1" class="nav-link">–¶–µ–ª—å —Ä–∞–±–æ—Ç—ã</a>
              <ul class="nav flex-column">
              </ul>
            </li>
            <li class="nav-item" data-bs-level="2"><a href="#_2" class="nav-link">–û–ø–∏—Å–∞–Ω–∏–µ –ø—Ä–æ–µ–∫—Ç–∞</a>
              <ul class="nav flex-column">
              </ul>
            </li>
            <li class="nav-item" data-bs-level="2"><a href="#_3" class="nav-link">–°—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø—Ä–æ–µ–∫—Ç–∞</a>
              <ul class="nav flex-column">
              </ul>
            </li>
            <li class="nav-item" data-bs-level="2"><a href="#_4" class="nav-link">–†–µ–∞–ª–∏–∑–æ–≤–∞–Ω–Ω—ã–µ –º–æ–¥–µ–ª–∏ –¥–∞–Ω–Ω—ã—Ö</a>
              <ul class="nav flex-column">
              </ul>
            </li>
            <li class="nav-item" data-bs-level="2"><a href="#views" class="nav-link">–†–µ–∞–ª–∏–∑–æ–≤–∞–Ω–Ω—ã–µ –ø—Ä–µ–¥—Å—Ç–∞–≤–ª–µ–Ω–∏—è (Views)</a>
              <ul class="nav flex-column">
              </ul>
            </li>
            <li class="nav-item" data-bs-level="2"><a href="#_5" class="nav-link">–§–æ—Ä–º—ã</a>
              <ul class="nav flex-column">
              </ul>
            </li>
            <li class="nav-item" data-bs-level="2"><a href="#-" class="nav-link">–†–∞—Å—à–∏—Ä–µ–Ω–Ω–∞—è –∞–¥–º–∏–Ω-–ø–∞–Ω–µ–ª—å</a>
              <ul class="nav flex-column">
              </ul>
            </li>
            <li class="nav-item" data-bs-level="2"><a href="#_6" class="nav-link">–®–∞–±–ª–æ–Ω—ã –∏ –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å</a>
              <ul class="nav flex-column">
              </ul>
            </li>
            <li class="nav-item" data-bs-level="2"><a href="#docker" class="nav-link">Docker –∏ –∞–≤—Ç–æ–º–∞—Ç–∏–∑–∞—Ü–∏—è</a>
              <ul class="nav flex-column">
              </ul>
            </li>
            <li class="nav-item" data-bs-level="2"><a href="#crud" class="nav-link">–†–µ–∞–ª–∏–∑–æ–≤–∞–Ω–Ω—ã–π CRUD —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª</a>
              <ul class="nav flex-column">
              </ul>
            </li>
            <li class="nav-item" data-bs-level="2"><a href="#_8" class="nav-link">–î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏</a>
              <ul class="nav flex-column">
              </ul>
            </li>
            <li class="nav-item" data-bs-level="2"><a href="#_10" class="nav-link">–ö–æ–º–∞–Ω–¥—ã –¥–ª—è –∑–∞–ø—É—Å–∫–∞</a>
              <ul class="nav flex-column">
              </ul>
            </li>
            <li class="nav-item" data-bs-level="2"><a href="#_11" class="nav-link">–ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–Ω—ã–π —Å—Ç–µ–∫</a>
              <ul class="nav flex-column">
              </ul>
            </li>
            <li class="nav-item" data-bs-level="2"><a href="#_12" class="nav-link">–í—ã–≤–æ–¥—ã</a>
              <ul class="nav flex-column">
              </ul>
            </li>
              </ul>
            </li>
        </ul>
    </div>
</div></div>
                    <div class="col-md-9" role="main">

<h1 id="2-django">–õ–∞–±–æ—Ä–∞—Ç–æ—Ä–Ω–∞—è —Ä–∞–±–æ—Ç–∞ 2. –†–µ–∞–ª–∏–∑–∞—Ü–∏—è –ø—Ä–æ—Å—Ç–æ–≥–æ —Å–∞–π—Ç–∞ –Ω–∞ Django</h1>
<h2 id="_1">–¶–µ–ª—å —Ä–∞–±–æ—Ç—ã</h2>
<p>–ò–∑—É—á–∏—Ç—å –æ—Å–Ω–æ–≤—ã —Ä–∞–±–æ—Ç—ã Django Web Framework, —Ä–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å CRUD-–∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å—ã, —Å–∏—Å—Ç–µ–º—É –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏–∏, —Ä–∞–±–æ—Ç—É —Å –±–∞–∑–æ–π –¥–∞–Ω–Ω—ã—Ö PostgreSQL –∏ —Ä–∞–∑–≤–µ—Ä—Ç—ã–≤–∞–Ω–∏–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è —á–µ—Ä–µ–∑ Docker.</p>
<h2 id="_2">–û–ø–∏—Å–∞–Ω–∏–µ –ø—Ä–æ–µ–∫—Ç–∞</h2>
<p>–í–µ–±-–ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ "–¢—É—Ä–∏—Å—Ç–∏—á–µ—Å–∫–æ–µ –∞–≥–µ–Ω—Ç—Å—Ç–≤–æ" –¥–ª—è —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è —Ç—É—Ä–∞–º–∏, –±—Ä–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏—è–º–∏ –∏ –æ—Ç–∑—ã–≤–∞–º–∏. –°–∏—Å—Ç–µ–º–∞ –ø–æ–∑–≤–æ–ª—è–µ—Ç –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è–º –ø—Ä–æ—Å–º–∞—Ç—Ä–∏–≤–∞—Ç—å –¥–æ—Å—Ç—É–ø–Ω—ã–µ —Ç—É—Ä—ã, –±—Ä–æ–Ω–∏—Ä–æ–≤–∞—Ç—å –∏—Ö, –æ—Å—Ç–∞–≤–ª—è—Ç—å –æ—Ç–∑—ã–≤—ã, –∞ –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä–∞–º - —É–ø—Ä–∞–≤–ª—è—Ç—å –≤—Å–µ–º–∏ –¥–∞–Ω–Ω—ã–º–∏ —á–µ—Ä–µ–∑ –∞–¥–º–∏–Ω-–ø–∞–Ω–µ–ª—å.</p>
<h2 id="_3">–°—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø—Ä–æ–µ–∫—Ç–∞</h2>
<pre><code>django_proj/
‚îú‚îÄ‚îÄ docker-compose.yaml      # –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è Docker
‚îú‚îÄ‚îÄ Dockerfile               # –û–±—Ä–∞–∑ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è
‚îú‚îÄ‚îÄ docker-entrypoint.sh     # –°–∫—Ä–∏–ø—Ç –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–π –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏–∏
‚îú‚îÄ‚îÄ manage.py                # –ì–ª–∞–≤–Ω—ã–π —Ñ–∞–π–ª —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è Django
‚îú‚îÄ‚îÄ requirements.txt         # –ó–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ Python
‚îú‚îÄ‚îÄ app/                     # –û—Å–Ω–æ–≤–Ω–æ–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ
‚îÇ   ‚îú‚îÄ‚îÄ models.py           # –ú–æ–¥–µ–ª–∏ –¥–∞–Ω–Ω—ã—Ö
‚îÇ   ‚îú‚îÄ‚îÄ views.py            # –ü—Ä–µ–¥—Å—Ç–∞–≤–ª–µ–Ω–∏—è (–∫–æ–Ω—Ç—Ä–æ–ª–ª–µ—Ä—ã)
‚îÇ   ‚îú‚îÄ‚îÄ forms.py            # –§–æ—Ä–º—ã
‚îÇ   ‚îú‚îÄ‚îÄ urls.py             # –ú–∞—Ä—à—Ä—É—Ç–∏–∑–∞—Ü–∏—è
‚îÇ   ‚îú‚îÄ‚îÄ admin.py            # –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è –∞–¥–º–∏–Ω-–ø–∞–Ω–µ–ª–∏
‚îÇ   ‚îú‚îÄ‚îÄ migrations/         # –ú–∏–≥—Ä–∞—Ü–∏–∏ –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö
‚îÇ   ‚îî‚îÄ‚îÄ templates/          # HTML-—à–∞–±–ª–æ–Ω—ã
‚îú‚îÄ‚îÄ config/                  # –ù–∞—Å—Ç—Ä–æ–π–∫–∏ –ø—Ä–æ–µ–∫—Ç–∞
‚îÇ   ‚îú‚îÄ‚îÄ settings.py         # –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è Django
‚îÇ   ‚îî‚îÄ‚îÄ urls.py             # –ì–ª–∞–≤–Ω–∞—è –º–∞—Ä—à—Ä—É—Ç–∏–∑–∞—Ü–∏—è
‚îî‚îÄ‚îÄ static/                  # –°—Ç–∞—Ç–∏—á–µ—Å–∫–∏–µ —Ñ–∞–π–ª—ã (–∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è)
</code></pre>
<h2 id="_4">–†–µ–∞–ª–∏–∑–æ–≤–∞–Ω–Ω—ã–µ –º–æ–¥–µ–ª–∏ –¥–∞–Ω–Ω—ã—Ö</h2>
<h3 id="1-userprofile">1. UserProfile</h3>
<p>–†–∞—Å—à–∏—Ä–µ–Ω–∏–µ —Å—Ç–∞–Ω–¥–∞—Ä—Ç–Ω–æ–π –º–æ–¥–µ–ª–∏ User –¥–ª—è —Ö—Ä–∞–Ω–µ–Ω–∏—è –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω–æ–π –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–∏ –æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ.</p>
<pre><code class="language-python">class UserProfile(models.Model):
    user = models.OneToOneField(User, on_delete=models.CASCADE, related_name='profile')
    date_of_birth = models.DateField(null=True, blank=True)

    def __str__(self):
        return f"Profile of {self.user.username}"
</code></pre>
<h3 id="2-tour">2. Tour (–¢—É—Ä)</h3>
<p>–û—Å–Ω–æ–≤–Ω–∞—è –º–æ–¥–µ–ª—å –¥–ª—è —Ö—Ä–∞–Ω–µ–Ω–∏—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–∏ –æ —Ç—É—Ä–∏—Å—Ç–∏—á–µ—Å–∫–∏—Ö —Ç—É—Ä–∞—Ö.</p>
<pre><code class="language-python">class Tour(models.Model):
    title = models.CharField(max_length=200)
    agency = models.CharField(max_length=200)
    description = models.TextField()
    start_date = models.DateField()
    end_date = models.DateField()
    price = models.DecimalField(max_digits=10, decimal_places=2)
    city = models.CharField(max_length=100)
    payment_terms = models.TextField(blank=True, null=True)
</code></pre>
<p><strong>–ü–æ–ª—è:</strong>
- <code>title</code> - –Ω–∞–∑–≤–∞–Ω–∏–µ —Ç—É—Ä–∞
- <code>agency</code> - —Ç—É—Ä–∏—Å—Ç–∏—á–µ—Å–∫–æ–µ –∞–≥–µ–Ω—Ç—Å—Ç–≤–æ
- <code>description</code> - –æ–ø–∏—Å–∞–Ω–∏–µ —Ç—É—Ä–∞
- <code>start_date</code> / <code>end_date</code> - –¥–∞—Ç—ã –Ω–∞—á–∞–ª–∞ –∏ –æ–∫–æ–Ω—á–∞–Ω–∏—è
- <code>price</code> - —Å—Ç–æ–∏–º–æ—Å—Ç—å
- <code>city</code> - –≥–æ—Ä–æ–¥
- <code>payment_terms</code> - —É—Å–ª–æ–≤–∏—è –æ–ø–ª–∞—Ç—ã</p>
<h3 id="3-reservation">3. Reservation (–ë—Ä–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ)</h3>
<p>–ú–æ–¥–µ–ª—å –¥–ª—è —Ö—Ä–∞–Ω–µ–Ω–∏—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–∏ –æ –±—Ä–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏—è—Ö —Ç—É—Ä–æ–≤ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è–º–∏.</p>
<pre><code class="language-python">class Reservation(models.Model):
    tour = models.ForeignKey(Tour, on_delete=models.CASCADE, related_name='reservations')
    user = models.ForeignKey(settings.AUTH_USER_MODEL, on_delete=models.CASCADE, related_name='reservations')
    created_at = models.DateTimeField(auto_now_add=True)
    guests = models.PositiveIntegerField(default=1)
    notes = models.TextField(blank=True)
    confirmed = models.BooleanField(default=False)
</code></pre>
<p><strong>–û—Å–æ–±–µ–Ω–Ω–æ—Å—Ç–∏:</strong>
- <code>confirmed</code> - —Å—Ç–∞—Ç—É—Å –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏—è –±—Ä–æ–Ω–∏ –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä–æ–º (–¥–ª—è –∏–º–∏—Ç–∞—Ü–∏–∏ –æ–ø–ª–∞—Ç—ã)
- <code>guests</code> - –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –≥–æ—Å—Ç–µ–π
- –í–Ω–µ—à–Ω–∏–µ –∫–ª—é—á–∏ —Å–≤—è–∑—ã–≤–∞—é—Ç –±—Ä–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ —Å —Ç—É—Ä–æ–º –∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–º</p>
<h3 id="4-review">4. Review (–û—Ç–∑—ã–≤)</h3>
<p>–ú–æ–¥–µ–ª—å –¥–ª—è —Ö—Ä–∞–Ω–µ–Ω–∏—è –æ—Ç–∑—ã–≤–æ–≤ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π –æ —Ç—É—Ä–∞—Ö.</p>
<pre><code class="language-python">class Review(models.Model):
    tour = models.ForeignKey(Tour, on_delete=models.CASCADE, related_name='reviews')
    user = models.ForeignKey(settings.AUTH_USER_MODEL, on_delete=models.SET_NULL, null=True)
    text = models.TextField()
    rating = models.PositiveSmallIntegerField()  # 1-10
    created_at = models.DateTimeField(default=timezone.now)

    class Meta:
        ordering = ['-created_at']
</code></pre>
<h2 id="views">–†–µ–∞–ª–∏–∑–æ–≤–∞–Ω–Ω—ã–µ –ø—Ä–µ–¥—Å—Ç–∞–≤–ª–µ–Ω–∏—è (Views)</h2>
<h3 id="1-tourlistview-">1. TourListView - –°–ø–∏—Å–æ–∫ —Ç—É—Ä–æ–≤ —Å –ø–∞–≥–∏–Ω–∞—Ü–∏–µ–π –∏ –ø–æ–∏—Å–∫–æ–º</h3>
<pre><code class="language-python">class TourListView(ListView):
    model = Tour
    template_name = 'tour_list.html'
    context_object_name = 'tours'
    paginate_by = 8

    def get_queryset(self):
        qs = super().get_queryset()
        q = self.request.GET.get('q')
        if q:
            qs = qs.filter(
                models.Q(title__icontains=q) |
                models.Q(agency__icontains=q) |
                models.Q(city__icontains=q) |
                models.Q(description__icontains=q)
            )
        return qs.order_by('start_date')
</code></pre>
<p><strong>–†–µ–∞–ª–∏–∑–æ–≤–∞–Ω–æ:</strong>
- –ü–∞–≥–∏–Ω–∞—Ü–∏—è —Å—Ç—Ä–∞–Ω–∏—Ü (8 —Ç—É—Ä–æ–≤ –Ω–∞ —Å—Ç—Ä–∞–Ω–∏—Ü–µ)
- –ü–æ–∏—Å–∫ –ø–æ –Ω–∞–∑–≤–∞–Ω–∏—é, –∞–≥–µ–Ω—Ç—Å—Ç–≤—É, –≥–æ—Ä–æ–¥—É –∏ –æ–ø–∏—Å–∞–Ω–∏—é
- –°–æ—Ä—Ç–∏—Ä–æ–≤–∫–∞ –ø–æ –¥–∞—Ç–µ –Ω–∞—á–∞–ª–∞ —Ç—É—Ä–∞</p>
<h3 id="2-tourdetailview-">2. TourDetailView - –î–µ—Ç–∞–ª—å–Ω–∞—è —Å—Ç—Ä–∞–Ω–∏—Ü–∞ —Ç—É—Ä–∞ —Å –æ—Ç–∑—ã–≤–∞–º–∏</h3>
<pre><code class="language-python">class TourDetailView(FormMixin, DetailView):
    model = Tour
    template_name = 'tour_detail.html'
    form_class = ReviewForm

    def get_context_data(self, **kwargs):
        ctx = super().get_context_data(**kwargs)
        # –ü–æ–¥—Å—á–µ—Ç –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–Ω—ã—Ö –±—Ä–æ–Ω–µ–π
        total_guests = self.object.reservations.filter(confirmed=True).aggregate(
            total=Sum('guests')
        )['total'] or 0
        ctx['total_guests'] = total_guests
        ctx['reservations_count'] = self.object.reservations.filter(confirmed=True).count()
        # –ü—Ä–æ–≤–µ—Ä–∫–∞ –±—Ä–æ–Ω–∏ —Ç–µ–∫—É—â–µ–≥–æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
        if self.request.user.is_authenticated:
            ctx['user_reservation'] = self.object.reservations.filter(
                user=self.request.user
            ).first()
        return ctx

    def post(self, request, *args, **kwargs):
        # –û–±—Ä–∞–±–æ—Ç–∫–∞ —Ñ–æ—Ä–º—ã –æ—Ç–∑—ã–≤–∞
        if not request.user.is_authenticated:
            messages.error(request, '–í–æ–π–¥–∏—Ç–µ, —á—Ç–æ–±—ã –æ—Å—Ç–∞–≤–∏—Ç—å –æ—Ç–∑—ã–≤')
            return redirect('login')

        self.object = self.get_object()
        form = self.get_form()

        if form.is_valid():
            review = form.save(commit=False)
            review.tour = self.object
            review.user = request.user
            review.save()
            messages.success(request, '–û—Ç–∑—ã–≤ —É—Å–ø–µ—à–Ω–æ –¥–æ–±–∞–≤–ª–µ–Ω!')
            return redirect('tour_detail', pk=self.object.pk)
</code></pre>
<p><strong>–§—É–Ω–∫—Ü–∏–æ–Ω–∞–ª:</strong>
- –û—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ –¥–µ—Ç–∞–ª—å–Ω–æ–π –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–∏ –æ —Ç—É—Ä–µ
- –°–ø–∏—Å–æ–∫ –≤—Å–µ—Ö –æ—Ç–∑—ã–≤–æ–≤
- –§–æ—Ä–º–∞ –¥–ª—è –¥–æ–±–∞–≤–ª–µ–Ω–∏—è –æ—Ç–∑—ã–≤–∞ —Å —Ä–µ–π—Ç–∏–Ω–≥–æ–º (1-10)
- –ö–Ω–æ–ø–∫–∞ –±—Ä–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏—è
- –°—Ç–∞—Ç—É—Å –±—Ä–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è (–ø–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–æ/–æ–∂–∏–¥–∞–µ—Ç)</p>
<h3 id="3-soldbycityview-">3. SoldByCityView - –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –ø—Ä–æ–¥–∞–∂ –ø–æ –≥–æ—Ä–æ–¥–∞–º</h3>
<pre><code class="language-python">class SoldByCityView(LoginRequiredMixin, TemplateView):
    template_name = 'sold_by_city.html'

    def get_context_data(self, **kwargs):
        # –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –≤—Å–µ—Ö –±—Ä–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏–π
        all_reservations = Tour.objects.filter(
            reservations__isnull=False
        ).values('city').annotate(
            total_reservations=Count('reservations', distinct=True),
            total_guests=Sum('reservations__guests'),
            total_income=Sum(
                models.F('reservations__guests') * models.F('price'),
                output_field=models.DecimalField(max_digits=12, decimal_places=2)
            )
        ).order_by('-total_reservations')

        # –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–Ω—ã—Ö –±—Ä–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏–π
        confirmed_reservations = Tour.objects.filter(
            reservations__confirmed=True
        ).values('city').annotate(
            confirmed_reservations=Count('reservations', distinct=True),
            confirmed_guests=Sum('reservations__guests'),
            confirmed_income=Sum(
                models.F('reservations__guests') * models.F('price'),
                output_field=models.DecimalField(max_digits=12, decimal_places=2)
            )
        )
        # –û–±—ä–µ–¥–∏–Ω–µ–Ω–∏–µ –¥–∞–Ω–Ω—ã—Ö...
</code></pre>
<p><strong>–§—É–Ω–∫—Ü–∏–æ–Ω–∞–ª:</strong>
- –ê–≥—Ä–µ–≥–∞—Ü–∏—è –¥–∞–Ω–Ω—ã—Ö –ø–æ –≥–æ—Ä–æ–¥–∞–º
- –ü–æ–¥—Å—á–µ—Ç –æ–±—â–µ–≥–æ –∫–æ–ª–∏—á–µ—Å—Ç–≤–∞ –±—Ä–æ–Ω–µ–π –∏ –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–Ω—ã—Ö –æ—Ç–¥–µ–ª—å–Ω–æ
- –†–∞—Å—á–µ—Ç –¥–æ—Ö–æ–¥–∞ (–∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –≥–æ—Å—Ç–µ–π √ó —Ü–µ–Ω–∞ —Ç—É—Ä–∞)
- –î–æ—Å—Ç—É–ø —Ç–æ–ª—å–∫–æ –¥–ª—è –∞–≤—Ç–æ—Ä–∏–∑–æ–≤–∞–Ω–Ω—ã—Ö –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π</p>
<h3 id="4">4. –û—Å—Ç–∞–ª—å–Ω—ã–µ –ø—Ä–µ–¥—Å—Ç–∞–≤–ª–µ–Ω–∏—è</h3>
<ul>
<li><strong>TourCreateView</strong> - —Å–æ–∑–¥–∞–Ω–∏–µ —Ç—É—Ä–∞ (—Ç–æ–ª—å–∫–æ –¥–ª—è –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä–æ–≤)</li>
<li><strong>ReservationCreateView</strong> - –±—ã—Å—Ç—Ä–æ–µ –±—Ä–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ —Ç—É—Ä–∞</li>
<li><strong>ReservationDeleteView</strong> - –æ—Ç–º–µ–Ω–∞ –±—Ä–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏—è</li>
<li><strong>UserReservationListView</strong> - —Å–ø–∏—Å–æ–∫ –±—Ä–æ–Ω–µ–π –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è —Å –ø–∞–≥–∏–Ω–∞—Ü–∏–µ–π (10 –Ω–∞ —Å—Ç—Ä–∞–Ω–∏—Ü–µ)</li>
<li><strong>ProfileUpdateView</strong> - —Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –ø—Ä–æ—Ñ–∏–ª—è</li>
<li><strong>register</strong> - —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è –Ω–æ–≤–æ–≥–æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è</li>
</ul>
<h2 id="_5">–§–æ—Ä–º—ã</h2>
<h3 id="1-reviewform-">1. ReviewForm - –§–æ—Ä–º–∞ –æ—Ç–∑—ã–≤–∞ —Å –∏–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–Ω—ã–º —Å–ª–∞–π–¥–µ—Ä–æ–º</h3>
<pre><code class="language-python">class ReviewForm(forms.ModelForm):
    rating = forms.IntegerField(
        min_value=1, 
        max_value=10,
        widget=forms.NumberInput(attrs={
            'class': 'form-control',
            'type': 'range',
            'min': '1',
            'max': '10',
            'step': '1',
            'oninput': 'this.nextElementSibling.value = this.value'
        }),
        label='–†–µ–π—Ç–∏–Ω–≥ (1-10)'
    )
    text = forms.CharField(
        widget=forms.Textarea(attrs={
            'class': 'form-control',
            'rows': 4,
            'placeholder': '–ù–∞–ø–∏—à–∏—Ç–µ –≤–∞—à –æ—Ç–∑—ã–≤...'
        }),
        label='–¢–µ–∫—Å—Ç –æ—Ç–∑—ã–≤–∞'
    )
</code></pre>
<p><strong>–û—Å–æ–±–µ–Ω–Ω–æ—Å—Ç–∏:</strong>
- –ò–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–Ω—ã–π —Å–ª–∞–π–¥–µ—Ä –¥–ª—è –≤—ã–±–æ—Ä–∞ —Ä–µ–π—Ç–∏–Ω–≥–∞
- –û—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ –≤—ã–±—Ä–∞–Ω–Ω–æ–≥–æ –∑–Ω–∞—á–µ–Ω–∏—è –≤ —Ä–µ–∞–ª—å–Ω–æ–º –≤—Ä–µ–º–µ–Ω–∏
- –°—Ç–∏–ª–∏–∑–∞—Ü–∏—è —á–µ—Ä–µ–∑ Bootstrap</p>
<h3 id="2-registerform-">2. RegisterForm - –§–æ—Ä–º–∞ —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏–∏ —Å –≤–∞–ª–∏–¥–∞—Ü–∏–µ–π</h3>
<pre><code class="language-python">class RegisterForm(UserCreationForm):
    email = forms.EmailField(required=True)
    first_name = forms.CharField(max_length=150, required=True, label='–ò–º—è')
    last_name = forms.CharField(max_length=150, required=True, label='–§–∞–º–∏–ª–∏—è')
    date_of_birth = forms.DateField(
        required=True, 
        label='–î–∞—Ç–∞ —Ä–æ–∂–¥–µ–Ω–∏—è', 
        widget=forms.DateInput(attrs={'type': 'date'})
    )

    def clean_password1(self):
        pw = self.cleaned_data.get('password1')
        pw_regex = re.compile(r'^(?=.{8,}$)(?=.*[A-Z])(?=.*[@.\+\-_])[A-Za-z0-9@.\+\-_]+$')
        if not pw_regex.match(pw):
            raise ValidationError(
                '–ü–∞—Ä–æ–ª—å –¥–æ–ª–∂–µ–Ω —Å–æ–¥–µ—Ä–∂–∞—Ç—å –º–∏–Ω–∏–º—É–º 8 —Å–∏–º–≤–æ–ª–æ–≤, '
                '–∫–∞–∫ –º–∏–Ω–∏–º—É–º –æ–¥–Ω—É –∑–∞–≥–ª–∞–≤–Ω—É—é –±—É–∫–≤—É, '
                '—Å–æ—Å—Ç–æ—è—Ç—å —Ç–æ–ª—å–∫–æ –∏–∑ –ª–∞—Ç–∏–Ω—Å–∫–∏—Ö –±—É–∫–≤, —Ü–∏—Ñ—Ä –∏ —Å–∏–º–≤–æ–ª–æ–≤ @ . + - _.'
            )
        return pw
</code></pre>
<p><strong>–í–∞–ª–∏–¥–∞—Ü–∏—è –ø–∞—Ä–æ–ª—è:</strong>
- –ú–∏–Ω–∏–º—É–º 8 —Å–∏–º–≤–æ–ª–æ–≤
- –•–æ—Ç—è –±—ã –æ–¥–Ω–∞ –∑–∞–≥–ª–∞–≤–Ω–∞—è –±—É–∫–≤–∞
- –¢–æ–ª—å–∫–æ –ª–∞—Ç–∏–Ω—Å–∫–∏–µ –±—É–∫–≤—ã, —Ü–∏—Ñ—Ä—ã –∏ —Å–ø–µ—Ü–∏–∞–ª—å–Ω—ã–µ —Å–∏–º–≤–æ–ª—ã (@, ., +, -, _)</p>
<h2 id="-">–†–∞—Å—à–∏—Ä–µ–Ω–Ω–∞—è –∞–¥–º–∏–Ω-–ø–∞–Ω–µ–ª—å</h2>
<h3 id="1-reservationadmin-">1. ReservationAdmin - –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –±—Ä–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏—è–º–∏</h3>
<pre><code class="language-python">@admin.register(Reservation)
class ReservationAdmin(admin.ModelAdmin):
    list_display = ('id', 'tour', 'user', 'guests', 'status_badge', 'created_at', 'notes_short')
    list_filter = ('confirmed', 'created_at', 'tour__city')
    search_fields = ('user__username', 'user__email', 'tour__title')
    actions = ['confirm_reservations', 'unconfirm_reservations']
    list_editable = ('guests',)
    ordering = ('-created_at',)

    def status_badge(self, obj):
        if obj.confirmed:
            return format_html('&lt;span style="color: green; font-weight: bold;"&gt;‚úì –ü–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–æ&lt;/span&gt;')
        return format_html('&lt;span style="color: orange; font-weight: bold;"&gt;‚è≥ –û–∂–∏–¥–∞–µ—Ç&lt;/span&gt;')

    def confirm_reservations(self, request, queryset):
        updated = queryset.update(confirmed=True)
        self.message_user(request, f"‚úì –ü–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–æ –±—Ä–æ–Ω–µ–π: {updated}")
</code></pre>
<p><strong>–§—É–Ω–∫—Ü–∏–æ–Ω–∞–ª:</strong>
- –¶–≤–µ—Ç–Ω—ã–µ –±–µ–π–¥–∂–∏ —Å—Ç–∞—Ç—É—Å–æ–≤ (–∑–µ–ª–µ–Ω—ã–π/–æ—Ä–∞–Ω–∂–µ–≤—ã–π)
- –ú–∞—Å—Å–æ–≤–æ–µ –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏–µ –±—Ä–æ–Ω–µ–π
- –§–∏–ª—å—Ç—Ä—ã –ø–æ —Å—Ç–∞—Ç—É—Å—É, –¥–∞—Ç–µ, –≥–æ—Ä–æ–¥—É
- –ü–æ–∏—Å–∫ –ø–æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—é –∏ –Ω–∞–∑–≤–∞–Ω–∏—é —Ç—É—Ä–∞
- –†–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –∫–æ–ª–∏—á–µ—Å—Ç–≤–∞ –≥–æ—Å—Ç–µ–π –ø—Ä—è–º–æ –≤ —Å–ø–∏—Å–∫–µ</p>
<h3 id="2-touradmin-">2. TourAdmin - –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —Ç—É—Ä–∞–º–∏</h3>
<pre><code class="language-python">@admin.register(Tour)
class TourAdmin(admin.ModelAdmin):
    list_display = ('title', 'agency', 'city', 'start_date', 'end_date', 'price', 
                    'total_reservations', 'total_guests')
    search_fields = ('title', 'agency', 'city')
    list_filter = ('city', 'agency', 'start_date')

    def total_reservations(self, obj):
        return obj.reservations.count()

    def total_guests(self, obj):
        total = obj.reservations.aggregate(total=Sum('guests'))['total'] or 0
        return total
</code></pre>
<p><strong>–î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ –∫–æ–ª–æ–Ω–∫–∏:</strong>
- –û–±—â–µ–µ –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –±—Ä–æ–Ω–µ–π
- –û–±—â–µ–µ –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –≥–æ—Å—Ç–µ–π</p>
<h2 id="_6">–®–∞–±–ª–æ–Ω—ã –∏ –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å</h2>
<h3 id="bootstrap-5">–ë–∞–∑–æ–≤—ã–π —à–∞–±–ª–æ–Ω —Å Bootstrap 5</h3>
<pre><code class="language-html">&lt;!-- base.html --&gt;
&lt;!DOCTYPE html&gt;
&lt;html lang="ru"&gt;
&lt;head&gt;
    &lt;meta charset="UTF-8"&gt;
    &lt;meta name="viewport" content="width=device-width, initial-scale=1.0"&gt;
    &lt;title&gt;{% block title %}–¢—É—Ä–∏—Å—Ç–∏—á–µ—Å–∫–æ–µ –∞–≥–µ–Ω—Ç—Å—Ç–≤–æ{% endblock %}&lt;/title&gt;
    &lt;link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet"&gt;
&lt;/head&gt;
&lt;body&gt;
    &lt;!-- –ù–∞–≤–∏–≥–∞—Ü–∏–æ–Ω–Ω–æ–µ –º–µ–Ω—é Bootstrap --&gt;
    &lt;nav class="navbar navbar-expand-lg navbar-dark bg-primary"&gt;
        &lt;div class="container-fluid"&gt;
            &lt;a class="navbar-brand" href="{% url 'about' %}"&gt;üèñÔ∏è Tours&lt;/a&gt;
            &lt;div class="navbar-nav"&gt;
                &lt;a class="nav-link" href="{% url 'tour_list' %}"&gt;–¢—É—Ä—ã&lt;/a&gt;
                {% if user.is_authenticated %}
                    &lt;a class="nav-link" href="{% url 'user_reservations' %}"&gt;–ú–æ–∏ –±—Ä–æ–Ω–∏&lt;/a&gt;
                    &lt;a class="nav-link" href="{% url 'profile' %}"&gt;–ü—Ä–æ—Ñ–∏–ª—å&lt;/a&gt;
                    {% if user.is_staff %}
                        &lt;a class="nav-link" href="{% url 'sold_by_city' %}"&gt;–°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞&lt;/a&gt;
                    {% endif %}
                    &lt;a class="nav-link" href="{% url 'logout' %}"&gt;–í—ã—Ö–æ–¥&lt;/a&gt;
                {% else %}
                    &lt;a class="nav-link" href="{% url 'login' %}"&gt;–í—Ö–æ–¥&lt;/a&gt;
                    &lt;a class="nav-link" href="{% url 'register' %}"&gt;–†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è&lt;/a&gt;
                {% endif %}
            &lt;/div&gt;
        &lt;/div&gt;
    &lt;/nav&gt;

    &lt;div class="container mt-4"&gt;
        {% block content %}{% endblock %}
    &lt;/div&gt;
&lt;/body&gt;
&lt;/html&gt;
</code></pre>
<p><strong>–û—Å–æ–±–µ–Ω–Ω–æ—Å—Ç–∏ –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–∞:</strong>
- –ê–¥–∞–ø—Ç–∏–≤–Ω–æ–µ –º–µ–Ω—é Bootstrap 5
- –î–∏–Ω–∞–º–∏—á–µ—Å–∫–æ–µ –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ –ø—É–Ω–∫—Ç–æ–≤ –º–µ–Ω—é –≤ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ –æ—Ç –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏–∏
- –û—Ç–¥–µ–ª—å–Ω–æ–µ –º–µ–Ω—é –¥–ª—è –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä–æ–≤
- –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ Bootstrap –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤ (cards, alerts, badges, forms)</p>
<h3 id="tour_listhtml">–ü–∞–≥–∏–Ω–∞—Ü–∏—è –≤ —à–∞–±–ª–æ–Ω–µ tour_list.html</h3>
<pre><code class="language-html">&lt;!-- –ü–∞–≥–∏–Ω–∞—Ü–∏—è Bootstrap --&gt;
{% if is_paginated %}
&lt;nav aria-label="Page navigation"&gt;
    &lt;ul class="pagination justify-content-center"&gt;
        {% if page_obj.has_previous %}
            &lt;li class="page-item"&gt;
                &lt;a class="page-link" href="?page=1{% if request.GET.q %}&amp;q={{ request.GET.q }}{% endif %}"&gt;–ü–µ—Ä–≤–∞—è&lt;/a&gt;
            &lt;/li&gt;
            &lt;li class="page-item"&gt;
                &lt;a class="page-link" href="?page={{ page_obj.previous_page_number }}{% if request.GET.q %}&amp;q={{ request.GET.q }}{% endif %}"&gt;–ù–∞–∑–∞–¥&lt;/a&gt;
            &lt;/li&gt;
        {% endif %}

        &lt;li class="page-item active"&gt;
            &lt;span class="page-link"&gt;{{ page_obj.number }} –∏–∑ {{ page_obj.paginator.num_pages }}&lt;/span&gt;
        &lt;/li&gt;

        {% if page_obj.has_next %}
            &lt;li class="page-item"&gt;
                &lt;a class="page-link" href="?page={{ page_obj.next_page_number }}{% if request.GET.q %}&amp;q={{ request.GET.q }}{% endif %}"&gt;–í–ø–µ—Ä–µ–¥&lt;/a&gt;
            &lt;/li&gt;
            &lt;li class="page-item"&gt;
                &lt;a class="page-link" href="?page={{ page_obj.paginator.num_pages }}{% if request.GET.q %}&amp;q={{ request.GET.q }}{% endif %}"&gt;–ü–æ—Å–ª–µ–¥–Ω—è—è&lt;/a&gt;
            &lt;/li&gt;
        {% endif %}
    &lt;/ul&gt;
&lt;/nav&gt;
{% endif %}
</code></pre>
<p><strong>–§—É–Ω–∫—Ü–∏–æ–Ω–∞–ª –ø–∞–≥–∏–Ω–∞—Ü–∏–∏:</strong>
- –ö–Ω–æ–ø–∫–∏ –Ω–∞–≤–∏–≥–∞—Ü–∏–∏ (–ø–µ—Ä–≤–∞—è/–ø–æ—Å–ª–µ–¥–Ω—è—è/–Ω–∞–∑–∞–¥/–≤–ø–µ—Ä–µ–¥)
- –û—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ —Ç–µ–∫—É—â–µ–π —Å—Ç—Ä–∞–Ω–∏—Ü—ã
- –°–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–≤ –ø–æ–∏—Å–∫–∞ –ø—Ä–∏ –ø–µ—Ä–µ—Ö–æ–¥–µ –º–µ–∂–¥—É —Å—Ç—Ä–∞–Ω–∏—Ü–∞–º–∏</p>
<h3 id="_7">–ü–æ–∏—Å–∫ –ø–æ —Ç—É—Ä–∞–º</h3>
<pre><code class="language-html">&lt;!-- –§–æ—Ä–º–∞ –ø–æ–∏—Å–∫–∞ --&gt;
&lt;form method="get" class="mb-4"&gt;
    &lt;div class="input-group"&gt;
        &lt;input type="text" name="q" class="form-control" 
               placeholder="–ü–æ–∏—Å–∫ –ø–æ –Ω–∞–∑–≤–∞–Ω–∏—é, –≥–æ—Ä–æ–¥—É, –∞–≥–µ–Ω—Ç—Å—Ç–≤—É..." 
               value="{{ request.GET.q }}"&gt;
        &lt;button class="btn btn-primary" type="submit"&gt;üîç –ù–∞–π—Ç–∏&lt;/button&gt;
    &lt;/div&gt;
&lt;/form&gt;
</code></pre>
<h2 id="docker">Docker –∏ –∞–≤—Ç–æ–º–∞—Ç–∏–∑–∞—Ü–∏—è</h2>
<h3 id="docker-composeyaml">docker-compose.yaml</h3>
<p>–ë—ã–ª –Ω–∞–ø–∏—Å–∞–Ω –±–∞–∑–æ–≤—ã–π –¥–æ–∫–µ—Ä –∫–æ–º–ø–æ—É–∑ —Å –¥–≤—É–º—è —Å–µ—Ä–≤–∏—Å–∞–º–∏ (–ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –∏ –±–¥)
–î–ª—è –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è volume –¥–ª—è —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏—è –¥–∞–Ω–Ω—ã—Ö, –∞ –¥–ª—è —Å–æ–∑–¥–∞–Ω–∏—è –±–¥ –∏—Å–ø–æ–ª—å–∑—É—é—Ç—Å—è –∫—Ä–µ–¥—ã, –∫–æ—Ç–æ—Ä—ã–µ –ø—Ä–æ–∫–∏–¥—ã–≤–∞—é—Ç—Å—è —á–µ—Ä–µ–∑ .env</p>
<h3 id="docker-entrypointsh-">docker-entrypoint.sh - –∞–≤—Ç–æ–º–∞—Ç–∏–∑–∞—Ü–∏—è —Å–±–æ—Ä–∫–∏ –ø—Ä–∏ –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏–∏</h3>
<p>–î–ª—è —É–ø—Ä–æ—â–µ–Ω–∏—è –¥–µ–±–±–∞–≥–∏–Ω–≥–∞ —Ä–µ—à–∏–ª –∑–∞–∫–∏–Ω—É—Ç—å –µ–Ω—Ç—Ä–∏–ø–æ–∏–Ω—Ç –∫–æ—Ç–æ—Ä—ã–π –±—É–¥–µ—Ç —Å–∞–º –Ω–∞–∫–∞—Ç—ã–≤–∞—Ç—å –º–∏–≥—Ä–∞—Ü–∏–∏ –∏ —Å–æ–∑–¥–∞–≤–∞—Ç—å —Å—É–ø–µ—Ä–ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è (—á–µ—Ä–µ–∑ –º–µ–Ω–µ–¥–∂–º–µ–Ω—Ç)</p>
<pre><code class="language-bash">#!/usr/bin/env bash
set -e

# –ñ–¥—ë–º, –ø–æ–∫–∞ Postgres –Ω–µ —Å—Ç–∞–Ω–µ—Ç –¥–æ—Å—Ç—É–ø–µ–Ω
until pg_isready --host="$POSTGRES_SERVER" --port="$POSTGRES_PORT" \
                 --username="$POSTGRES_USER" --dbname="$POSTGRES_DB"; do
  echo "Waiting for Postgres..."
  sleep 2
done

# –ü—Ä–∏–º–µ–Ω—è–µ–º –≤—Å–µ –º–∏–≥—Ä–∞—Ü–∏–∏ Django
python manage.py makemigrations 
python manage.py migrate
python manage.py createsu

# –ó–∞–ø—É—Å–∫–∞–µ–º Django
exec python manage.py runserver 0.0.0.0:8000
</code></pre>
<p><strong>–ß—Ç–æ –∞–≤—Ç–æ–º–∞—Ç–∏–∑–∏—Ä–æ–≤–∞–Ω–æ:</strong>
- –û–∂–∏–¥–∞–Ω–∏–µ –≥–æ—Ç–æ–≤–Ω–æ—Å—Ç–∏ –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö PostgreSQL
- –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ —Å–æ–∑–¥–∞–Ω–∏–µ –∏ –ø—Ä–∏–º–µ–Ω–µ–Ω–∏–µ –º–∏–≥—Ä–∞—Ü–∏–π
- –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ —Å–æ–∑–¥–∞–Ω–∏–µ —Å—É–ø–µ—Ä–ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
- –ó–∞–ø—É—Å–∫ —Å–µ—Ä–≤–µ—Ä–∞ —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏</p>
<h3 id="dockerfile">Dockerfile</h3>
<p>–ë—ã–ª –Ω–∞–ø–∏—Å–∞–Ω –¥–æ–∫–µ—Ä—Ñ–∞–π–ª —Å –ø—Ä–æ–∫–∏–¥—ã–≤–∞–Ω–∏–µ–º —ç–Ω—Ç—Ä–∏–ø–æ–∏–Ω—Ç–∞</p>
<pre><code class="language-dockerfile">...

# –ü—Ä–∞–≤–∞ –Ω–∞ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏–µ entrypoint —Å–∫—Ä–∏–ø—Ç–∞
RUN chmod +x docker-entrypoint.sh

ENTRYPOINT ["./docker-entrypoint.sh"]
</code></pre>
<h2 id="crud">–†–µ–∞–ª–∏–∑–æ–≤–∞–Ω–Ω—ã–π CRUD —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª</h2>
<h3 id="create">Create (–°–æ–∑–¥–∞–Ω–∏–µ)</h3>
<ul>
<li>–†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è</li>
<li>–°–æ–∑–¥–∞–Ω–∏–µ —Ç—É—Ä–∞ (–¥–ª—è –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä–æ–≤)</li>
<li>–°–æ–∑–¥–∞–Ω–∏–µ –±—Ä–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏—è</li>
<li>–°–æ–∑–¥–∞–Ω–∏–µ –æ—Ç–∑—ã–≤–∞</li>
</ul>
<h3 id="read">Read (–ß—Ç–µ–Ω–∏–µ)</h3>
<ul>
<li>–°–ø–∏—Å–æ–∫ –≤—Å–µ—Ö —Ç—É—Ä–æ–≤ —Å –ø–∞–≥–∏–Ω–∞—Ü–∏–µ–π –∏ –ø–æ–∏—Å–∫–æ–º</li>
<li>–î–µ—Ç–∞–ª—å–Ω–∞—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ —Ç—É—Ä–µ</li>
<li>–°–ø–∏—Å–æ–∫ –±—Ä–æ–Ω–µ–π –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è</li>
<li>–°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –ø—Ä–æ–¥–∞–∂ –ø–æ –≥–æ—Ä–æ–¥–∞–º</li>
<li>–ü—Ä–æ—Å–º–æ—Ç—Ä –æ—Ç–∑—ã–≤–æ–≤</li>
</ul>
<h3 id="update">Update (–û–±–Ω–æ–≤–ª–µ–Ω–∏–µ)</h3>
<ul>
<li>–†–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –ø—Ä–æ—Ñ–∏–ª—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è</li>
<li>–†–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –∫–æ–ª–∏—á–µ—Å—Ç–≤–∞ –≥–æ—Å—Ç–µ–π –≤ –∞–¥–º–∏–Ω–∫–µ</li>
<li>–ü–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏–µ/–æ—Ç–º–µ–Ω–∞ –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏—è –±—Ä–æ–Ω–∏</li>
</ul>
<h3 id="delete">Delete (–£–¥–∞–ª–µ–Ω–∏–µ)</h3>
<ul>
<li>–û—Ç–º–µ–Ω–∞ –±—Ä–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–º</li>
<li>–£–¥–∞–ª–µ–Ω–∏–µ –∑–∞–ø–∏—Å–µ–π —á–µ—Ä–µ–∑ –∞–¥–º–∏–Ω-–ø–∞–Ω–µ–ª—å</li>
</ul>
<h2 id="_8">–î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏</h2>
<h3 id="-_1">–§–∏–ª—å—Ç—Ä—ã –≤ –∞–¥–º–∏–Ω-–ø–∞–Ω–µ–ª–∏</h3>
<ul>
<li>–ü–æ —Å—Ç–∞—Ç—É—Å—É –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏—è –±—Ä–æ–Ω–∏</li>
<li>–ü–æ –¥–∞—Ç–µ —Å–æ–∑–¥–∞–Ω–∏—è</li>
<li>–ü–æ –≥–æ—Ä–æ–¥—É —Ç—É—Ä–∞</li>
<li>–ü–æ –∞–≥–µ–Ω—Ç—Å—Ç–≤—É</li>
<li>–ü–æ —Ä–µ–π—Ç–∏–Ω–≥—É –æ—Ç–∑—ã–≤–æ–≤</li>
</ul>
<h3 id="_9">–ü—Ä–∞–≤–∞ –¥–æ—Å—Ç—É–ø–∞</h3>
<ul>
<li><strong>–ê–Ω–æ–Ω–∏–º–Ω—ã–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏:</strong> –ø—Ä–æ—Å–º–æ—Ç—Ä —Ç—É—Ä–æ–≤</li>
<li><strong>–ê–≤—Ç–æ—Ä–∏–∑–æ–≤–∞–Ω–Ω—ã–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏:</strong> –±—Ä–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ, –æ—Ç–∑—ã–≤—ã, –ø—Ä–æ—Å–º–æ—Ç—Ä —Å–≤–æ–∏—Ö –±—Ä–æ–Ω–µ–π</li>
<li><strong>–ê–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä—ã:</strong> –ø–æ–ª–Ω—ã–π –¥–æ—Å—Ç—É–ø + —Å–æ–∑–¥–∞–Ω–∏–µ —Ç—É—Ä–æ–≤ + —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞</li>
</ul>
<h3 id="messages-framework">–°–∏—Å—Ç–µ–º–∞ —Å–æ–æ–±—â–µ–Ω–∏–π (Messages Framework)</h3>
<pre><code class="language-python">messages.success(request, '–û—Ç–∑—ã–≤ —É—Å–ø–µ—à–Ω–æ –¥–æ–±–∞–≤–ª–µ–Ω!')
messages.error(request, '–í–æ–π–¥–∏—Ç–µ, —á—Ç–æ–±—ã –æ—Å—Ç–∞–≤–∏—Ç—å –æ—Ç–∑—ã–≤')
</code></pre>
<p>–û—Ç–æ–±—Ä–∞–∂–∞—é—Ç—Å—è –≤ –≤–∏–¥–µ Bootstrap alerts.</p>
<h2 id="_10">–ö–æ–º–∞–Ω–¥—ã –¥–ª—è –∑–∞–ø—É—Å–∫–∞</h2>
<pre><code class="language-bash">docker-compose up -d --build
</code></pre>
<h2 id="_11">–ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–Ω—ã–π —Å—Ç–µ–∫</h2>
<ul>
<li><strong>Backend:</strong> Python 3.13, Django 5.2.7</li>
<li><strong>Database:</strong> PostgreSQL 17</li>
<li><strong>Frontend:</strong> HTML5, CSS3, Bootstrap 5 (GPT)</li>
<li><strong>Containerization:</strong> Docker, Docker Compose</li>
<li><strong>ORM:</strong> Django ORM</li>
<li><strong>Forms:</strong> Django Forms with validation</li>
<li><strong>Authentication:</strong> Django Auth System</li>
</ul>
<h2 id="_12">–í—ã–≤–æ–¥—ã</h2>
<p>–í —Ö–æ–¥–µ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è –ª–∞–±–æ—Ä–∞—Ç–æ—Ä–Ω–æ–π —Ä–∞–±–æ—Ç—ã –±—ã–ª–∏ –∏–∑—É—á–µ–Ω—ã –∏ —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω—ã:</p>
<ol>
<li><strong>–ú–æ–¥–µ–ª–∏ Django ORM</strong> - —Å–æ–∑–¥–∞–Ω–∏–µ —Å–≤—è–∑–∞–Ω–Ω—ã—Ö –º–æ–¥–µ–ª–µ–π —Å –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ–º ForeignKey, OneToOneField</li>
<li><strong>–ü—Ä–µ–¥—Å—Ç–∞–≤–ª–µ–Ω–∏—è</strong> - —Ä–∞–±–æ—Ç–∞ —Å Class-Based Views (ListView, DetailView, CreateView, DeleteView, TemplateView)</li>
<li><strong>–§–æ—Ä–º—ã</strong> - —Å–æ–∑–¥–∞–Ω–∏–µ –∏ –≤–∞–ª–∏–¥–∞—Ü–∏—è —Ñ–æ—Ä–º, –∫–∞—Å—Ç–æ–º–Ω—ã–µ –≤–∏–¥–∂–µ—Ç—ã</li>
<li><strong>CRUD –æ–ø–µ—Ä–∞—Ü–∏–∏</strong> - –ø–æ–ª–Ω—ã–π —Ü–∏–∫–ª —Å–æ–∑–¥–∞–Ω–∏—è, —á—Ç–µ–Ω–∏—è, –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è –∏ —É–¥–∞–ª–µ–Ω–∏—è –¥–∞–Ω–Ω—ã—Ö</li>
<li><strong>–ê–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—è –∏ –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏—è</strong> - —Å–∏—Å—Ç–µ–º–∞ —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏–∏, –≤—Ö–æ–¥–∞, –ø—Ä–∞–≤ –¥–æ—Å—Ç—É–ø–∞</li>
<li><strong>–ê–¥–º–∏–Ω-–ø–∞–Ω–µ–ª—å</strong> - —Ä–∞—Å—à–∏—Ä–µ–Ω–Ω–∞—è –Ω–∞—Å—Ç—Ä–æ–π–∫–∞ —Å —Ñ–∏–ª—å—Ç—Ä–∞–º–∏, –ø–æ–∏—Å–∫–æ–º –∏ –º–∞—Å—Å–æ–≤—ã–º–∏ –¥–µ–π—Å—Ç–≤–∏—è–º–∏</li>
<li><strong>–ü–∞–≥–∏–Ω–∞—Ü–∏—è</strong> - —Ä–∞–∑–±–∏–µ–Ω–∏–µ –±–æ–ª—å—à–∏—Ö —Å–ø–∏—Å–∫–æ–≤ –Ω–∞ —Å—Ç—Ä–∞–Ω–∏—Ü—ã</li>
<li><strong>–ü–æ–∏—Å–∫</strong> - —Ä–µ–∞–ª–∏–∑–∞—Ü–∏—è –ø–æ–∏—Å–∫–∞ –ø–æ –Ω–µ—Å–∫–æ–ª—å–∫–∏–º –ø–æ–ª—è–º —Å –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ–º Q-–æ–±—ä–µ–∫—Ç–æ–≤</li>
<li><strong>–ê–≥—Ä–µ–≥–∞—Ü–∏—è –¥–∞–Ω–Ω—ã—Ö</strong> - –ø–æ–¥—Å—á–µ—Ç —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∏ —Å –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ–º Count, Sum</li>
<li><strong>–®–∞–±–ª–æ–Ω—ã</strong> - –Ω–∞—Å–ª–µ–¥–æ–≤–∞–Ω–∏–µ, –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ —Ç–µ–≥–æ–≤ –∏ —Ñ–∏–ª—å—Ç—Ä–æ–≤ Django</li>
<li><strong>Bootstrap</strong> - –∞–¥–∞–ø—Ç–∏–≤–Ω—ã–π –¥–∏–∑–∞–π–Ω, –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã (navbar, cards, forms, alerts, badges)</li>
<li><strong>Docker</strong> - –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∏–∑–∞—Ü–∏—è –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è, docker-compose, –∞–≤—Ç–æ–º–∞—Ç–∏–∑–∞—Ü–∏—è —Ä–∞–∑–≤–µ—Ä—Ç—ã–≤–∞–Ω–∏—è</li>
<li><strong>PostgreSQL</strong> - —Ä–∞–±–æ—Ç–∞ —Å —Ä–µ–ª—è—Ü–∏–æ–Ω–Ω–æ–π –±–∞–∑–æ–π –¥–∞–Ω–Ω—ã—Ö</li>
<li><strong>–ú–∏–≥—Ä–∞—Ü–∏–∏</strong> - –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —Å—Ö–µ–º–æ–π –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö</li>
</ol>
<p>–ü—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –ø–æ–ª–Ω–æ—Å—Ç—å—é —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ, —Ä–∞–∑–≤–µ—Ä—Ç—ã–≤–∞–µ—Ç—Å—è –æ–¥–Ω–æ–π –∫–æ–º–∞–Ω–¥–æ–π –∏ –≥–æ—Ç–æ–≤–æ –∫ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—é.</p></div>
            </div>
        </div>

        <footer class="col-md-12">
            <hr>
                <p>Copyright ¬© 2025 <a href="https://t.me/CAHEK_aka_zzisst/">ZZISST</a>.</p>
            <p>Documentation built with <a href="https://www.mkdocs.org/">MkDocs</a>.</p>
        </footer>
        <script src="../../../js/bootstrap.bundle.min.js"></script>
        <script>
            var base_url = "../../..",
                shortcuts = {"help": 191, "next": 78, "previous": 80, "search": 83};
        </script>
        <script src="../../../js/base.js"></script>

        <div class="modal" id="mkdocs_keyboard_modal" tabindex="-1" role="dialog" aria-labelledby="keyboardModalLabel" aria-hidden="true">
    <div class="modal-dialog">
        <div class="modal-content">
            <div class="modal-header">
                <h4 class="modal-title" id="keyboardModalLabel">Keyboard Shortcuts</h4>
                <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
            </div>
            <div class="modal-body">
              <table class="table">
                <thead>
                  <tr>
                    <th style="width: 20%;">Keys</th>
                    <th>Action</th>
                  </tr>
                </thead>
                <tbody>
                  <tr>
                    <td class="help shortcut"><kbd>?</kbd></td>
                    <td>Open this help</td>
                  </tr>
                  <tr>
                    <td class="next shortcut"><kbd>n</kbd></td>
                    <td>Next page</td>
                  </tr>
                  <tr>
                    <td class="prev shortcut"><kbd>p</kbd></td>
                    <td>Previous page</td>
                  </tr>
                  <tr>
                    <td class="search shortcut"><kbd>s</kbd></td>
                    <td>Search</td>
                  </tr>
                </tbody>
              </table>
            </div>
            <div class="modal-footer">
            </div>
        </div>
    </div>
</div>

    

<script id="init-glightbox">const lightbox = GLightbox({"touchNavigation": true, "loop": false, "zoomable": true, "draggable": true, "openEffect": "zoom", "closeEffect": "zoom", "slideEffect": "slide"});
</script></body></html>