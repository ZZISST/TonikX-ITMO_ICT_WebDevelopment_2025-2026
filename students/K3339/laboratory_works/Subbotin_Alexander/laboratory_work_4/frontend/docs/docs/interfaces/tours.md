# Интерфейс туров

## Список туров (ToursPage)

### Описание

Страница отображает список всех доступных туров с возможностью фильтрации по городу.

### Функциональность

- Отображение карточек туров
- Поиск по городу
- Переход к детальной странице
- Кнопка создания нового тура (для авторизованных)

### Карточка тура

Каждая карточка содержит:

- Название тура
- Агентство
- Описание (до 2 строк)
- Город
- Даты проведения
- Цена

### API-запрос

```
GET /tours/?limit=100&offset=0&city=Москва
```

### Пример ответа

```json
[
  {
    "id": 1,
    "title": "Путешествие по Золотому кольцу",
    "agency": "Tour Pro",
    "description": "Увлекательное путешествие по древним городам России",
    "start_date": "2025-06-01T00:00:00",
    "end_date": "2025-06-07T00:00:00",
    "price": 45000,
    "city": "Москва",
    "payment_terms": "Предоплата 50%"
  }
]
```

---

## Детальная страница тура (TourDetailPage)

### Описание

Страница с полной информацией о туре, возможностью бронирования и просмотра отзывов.

### Секции страницы

1. **Основная информация**
   - Название
   - Агентство
   - Описание
   - Город
   - Даты
   - Условия оплаты

2. **Отзывы**
   - Средний рейтинг
   - Список отзывов
   - Форма добавления отзыва

3. **Боковая панель**
   - Цена
   - Кнопка бронирования
   - Преимущества

### Действия

| Действие | Доступность |
|----------|-------------|
| Просмотр | Все |
| Бронирование | Авторизованные |
| Редактирование | Авторизованные |
| Удаление | Авторизованные |
| Добавление отзыва | Авторизованные |

---

## Форма тура (TourFormPage)

### Описание

Форма для создания или редактирования тура.

### Поля формы

| Поле | Тип | Обязательное | Валидация |
|------|-----|--------------|-----------|
| Название | text | Да | 1-255 символов |
| Агентство | text | Да | 1-255 символов |
| Описание | textarea | Нет | - |
| Город | text | Да | 1-100 символов |
| Цена | number | Да | > 0 |
| Дата начала | date | Да | - |
| Дата окончания | date | Да | - |
| Условия оплаты | textarea | Нет | - |

### API-запросы

**Создание:**
```
POST /tours/
Content-Type: application/json
Authorization: Bearer <token>

{
  "title": "Новый тур",
  "agency": "Agency",
  "description": "Описание",
  "start_date": "2025-07-01T00:00:00Z",
  "end_date": "2025-07-07T00:00:00Z",
  "price": 50000,
  "city": "Санкт-Петербург",
  "payment_terms": "100% предоплата"
}
```

**Обновление:**
```
PUT /tours/{id}
Content-Type: application/json
Authorization: Bearer <token>

{
  "title": "Обновлённое название"
}
```

**Удаление:**
```
DELETE /tours/{id}
Authorization: Bearer <token>
```

---

## Компоненты

### TourCard

Карточка тура для списка:

```tsx
<Card>
  <CardHeader>
    <CardTitle>{tour.title}</CardTitle>
    <CardDescription>{tour.agency}</CardDescription>
  </CardHeader>
  <CardContent>
    <p>{tour.description}</p>
    <div>
      <MapPin /> {tour.city}
    </div>
    <div>
      <Calendar /> {tour.start_date} — {tour.end_date}
    </div>
  </CardContent>
  <CardFooter>
    <Button>Подробнее</Button>
  </CardFooter>
</Card>
```

### Форматирование цены

```typescript
const formatPrice = (price: number) => {
  return new Intl.NumberFormat('ru-RU', {
    style: 'currency',
    currency: 'RUB',
    minimumFractionDigits: 0,
  }).format(price);
};
```
